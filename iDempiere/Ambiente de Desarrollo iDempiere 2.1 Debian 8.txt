Instalar utilidades
-------------------
$ sudo apt-get install -y ant subversion maven mercurial dos2unix


Configuración postgresql
------------------------
$ sudo apt-get install -y postgresql-9.4 postgresql-client-9.4 postgresql-contrib-9.4 pgadmin3
$ su
# passwd postgres
# su - postgres
$ psql
postgres=# ALTER USER postgres WITH password 'postgres';
postgres=# \q
$ exit
$ sudo nano /etc/postgresql/9.4/main/pg_hba.conf
Revisar metodo de autenticacion md5, y trust para local
$ sudo nano /etc/postgresql/9.4/main/postgresql.conf
Asegurarse que la ip sea *: listen_addresses = '*'
$ sudo systemctl restart postgresql.service


Clonar proyecto
---------------
$ cd ~/Descargas
$ mkdir -p ~/Workspace && cd ~/Workspace
$ wget -q https://bitbucket.org/idempiere/idempiere-historic/get/release-2.1.tar.gz -O- | tar -zxvf -
$ mv idempiere-idempiere-historic-936034ab0911 idempiere21


Variables de entorno
--------------------
$ nano ~/.bash_aliases
Agregar al final:
export IDEMPIERE21_REPOSITORY="$HOME/Workspace/idempiere21"
$ source ~/.bash_aliases
$ echo $IDEMPIERE21_REPOSITORY


Instalar eclipse kepler
-----------------------
$ cd ~/Descargas
$ wget http://eclipse.c3sl.ufpr.br/technology/epp/downloads/release/kepler/SR2/eclipse-jee-kepler-SR2-linux-gtk-x86_64.tar.gz
$ tar -zxvf eclipse-jee-kepler-SR2-linux-gtk-x86_64.tar.gz
$ sudo mv eclipse /opt/eclipsekepler
$ sudo nano /usr/share/applications/eclipsekepler.desktop 

Copiar:
[Desktop Entry]
Type=Application
Name=Eclipse Kepler
Exec=/opt/eclipsekepler/eclipse
Icon=/opt/eclipsekepler/icon.xpm
Terminal=false
StartupNotify=true
Categories=Development

- Guardar y entrar a eclipse workspace $IDEMPIERE21_REPOSITORY
- Instalar buckmister en Eclipse Luna desde: Help > Install New Software > Add
- Ingresar http://download.eclipse.org/tools/buckminster/updates-4.3
- Instalar Buckminster Core, Buckminster Maven Support, Buckminster PDE Support
- Crear la carpeta targetPlatform en el directorio de idempiere21
- Ir a la opción Windows > Preferences > Plug-in Development > Target Platform > Add
- En la pantalla emergente tildamos la primera opción: Nothing: Start... y hacemos clic al botón Next
- En la siguiente pantalla colocamos en el campo Name: iDempiere Target Platform
- Luego en la pestaña Locations hacemos clic al botón Add
- Seleccionamos la opción Directory y luego hacemos clic en Next
- Ingresamos la ruta $IDEMPIERE21_REPOSITORY/targetPlatform y hacemos click en Finish y Finish
- Luego en la pestaña Environment colocamos las siguientes opciones (estar pendiente con la arquitectura):
Operating System: linux
Windowing System: gtk
Architecture: x86_64
- En Java Runtime Environmet seleccionamos Default JRE y hacemos clic en Finish
- En la ventana Preferences eliminamos los otros target y seleccionamos el nuevo target y presionamos Apply y luego OK


Materialización del proyecto
----------------------------
- Ir a la opción File > Import...
- Seleccionamos Buckminster > Materialize... y hacemos clic en el botón Next
- Seleccionar el archivo adempiere.cquery en la carpeta $IDEMPIERE21_REPOSITORY/org.adempiere.sdk-feature y presionamos Ok
- Aparecerá una pantalla donde se indica el progreso de importación del proyecto
- Al finalizar el proceso de importación del proyecto hacemos clic en el botón Finish


Creación de base de datos semilla
---------------------------------
$ psql -U postgres -c "CREATE ROLE adempiere SUPERUSER LOGIN PASSWORD 'adempiere'"
$ createdb --template=template0 -E UNICODE -O adempiere -U adempiere idempiere21_seed
$ psql -d idempiere21_seed -U adempiere -c "ALTER ROLE adempiere SET search_path TO adempiere, pg_catalog"
$ psql -d idempiere21_seed -U adempiere -c 'CREATE EXTENSION "uuid-ossp"'
$ cd /tmp
$ jar xvf "$IDEMPIERE21_REPOSITORY/org.adempiere.server-feature/data/seed/Adempiere_pg.jar"
$ psql -d idempiere21_seed -U adempiere -f Adempiere_pg.dmp


Migración de semilla
--------------------
Usar el archivo syncApplied.sh de la carpeta Recursos
$ chmod +x syncApplied.sh
$ ./syncApplied.sh idempiere21_seed "$IDEMPIERE21_REPOSITORY/migration" ""


Creación de base de datos desarrollo
------------------------------------
$ createdb  --template=idempiere21_seed -E UNICODE -O adempiere -U adempiere idempiere21_dev


Correr proyecto
---------------
- Luego que el proyecto se encuentre materializado sin problemas
- Run > Run Configurations
- Ejecutar Eclipse Aplication > install.app
- En Servidor Aplicación: localhost
- Nombre Base de Datos: idempiere21_dev
- Luego ejecutar Eclipse Aplication > server.product

